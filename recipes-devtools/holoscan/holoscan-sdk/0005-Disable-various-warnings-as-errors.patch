From d2fa74734ca60e067d3983f82c04fe53ccc6b13c Mon Sep 17 00:00:00 2001
From: Ilies CHERGUI <ichergui@nvidia.com>
Date: Thu, 13 Nov 2025 15:35:25 +0000
Subject: [PATCH 5/7] Disable various warnings as errors

Upstream-Status: Inappropriate [OE-specific]
Signed-off-by: Ian Stewart <istewart@nvidia.com>
---
 CMakeLists.txt                       | 12 ++++++++++++
 modules/holoinfer/src/CMakeLists.txt |  4 ++++
 2 files changed, 16 insertions(+)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 2eb6744..4e9372b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -125,6 +125,18 @@ set(CMAKE_CXX_EXTENSIONS NO)
 # Don't append suffix to shared libraries for debug build
 set(CMAKE_DEBUG_POSTFIX "")
 
+# Disable various warnings as errors
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=dangling-pointer>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=dangling-reference>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=deprecated-declarations>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=ignored-attributes>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=ignored-qualifiers>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=missing-field-initializers>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=narrowing>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=overloaded-virtual>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=pessimizing-move>)
+add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-Wno-error=unused-parameter>)
+
 # ##############################################################################
 # # RAPIDS CMAKE configurations
 # # (https://docs.rapids.ai/api/rapids-cmake/stable/api.html)
diff --git a/modules/holoinfer/src/CMakeLists.txt b/modules/holoinfer/src/CMakeLists.txt
index 33a4456..31e78e9 100644
--- a/modules/holoinfer/src/CMakeLists.txt
+++ b/modules/holoinfer/src/CMakeLists.txt
@@ -77,6 +77,10 @@ target_compile_definitions(${PROJECT_NAME}
         PROJECT_VERSION_MAJOR=${PROJECT_VERSION_MAJOR}
 )
 
+target_compile_options(${PROJECT_NAME} PRIVATE
+    $<$<COMPILE_LANGUAGE:CUDA>:-Xcompiler=-Wno-deprecated-declarations>
+)
+
 target_include_directories(${PROJECT_NAME}
     PRIVATE
         $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
-- 
2.34.1

